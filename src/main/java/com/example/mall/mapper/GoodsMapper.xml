<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.mall.mapper.GoodsMapper">
	<!-- /admin/addGoods -->
	<insert id="insertGoods" parameterType="com.example.mall.vo.Goods">
		INSERT INTO goods(
				goods_title
				, goods_price
				, goods_state
				, goods_memo
		) VALUES (
				#{goodsTitle}
				, #{goodsPrice}
				, #{goodsState}
				, #{goodsMemo}
		)
	</insert>
	
	<!-- /admin/goodsList -->
	<select id="selectGoodsList" parameterType="Map" resultType="Map">
		SELECT 
			goods_no goodsNo
			,goods_title goodsTitle
			,goods_price goodsPrice
		FROM goods
		<where> <!-- 검색어 있을때만 실행 -->
			<if test="searchWord != null">
				goods_title LIKE CONCAT('%',#{searchWord}.'%')
			</if>
		</where>
		ORDER BY goods_no ASC
		LIMIT #{beginRow}, #{rowPerPage}
	</select>
	
	<!-- goodsList 페이징 -->
	<select id="selectGoodsCount" resultType="Integer">
		SELECT COUNT(*) FROM goods
	</select>
</mapper>